export { default as theme } from './theme';
import { Split } from 'mdx-deck/layouts';
import { Fragment } from 'react';
import { Appear } from 'mdx-deck';

# HUG

## your next api, dont hate it!

worry about the business logic, not the parsing and encoding

##### spend your time adding value not reinventing the wheel

#### by Jim Vogel

---

# About Me

- Jim Vogel
- jim@vogelcc.com
- Professional python programmer for 3 years
- I love to learn & try new stuff constantly
- All feedback welcome (first presentation)

---

# What is Hug?

JSON focused webserver that is:

- Radically Simple
- Self documenting
- Clean
- Very Fast

---

# Crazy Simple Syntax

---

this

```python
import hug

@hug.get('/hello')
def hello():
    return 'World'
```

---

becomes:

```javascript
{
  404: "The API call you tried to make was not defined...",
  documentation: {
    handlers: {
      /hello: {
        GET: {
          examples: [ "http://localhost:8000/hello" ],
          outputs: {
            format: "JSON (Javascript Serialized Object Notation)",
            content_type: "application/json; charset=utf-8"
          }
        }
      }
    }
  }
}

```

---

## Lets do something a little more challenging

#### (like pass in a parameter)

---

Remember, leave the parsing to the framework and just do the business logic

```python
import hug

@hug.get('/echo')
def echo_text(text):
    return {'text': text}
```

---

get:

`./echo&text=repeat`

response:

```
{ text: "repeat" }
```

---

# Forget those annoying things like

- mime types
- encoding
- jsonify
- ensuring parameters are there
- parsing strings to numbers
- handling data differently if get/post

---

### Parameter is optional?

hug does what you would expect and makes the api enpoint parameter optional

```python
import hug

@hug.get('/echo')
def echo_text(text = 'Foobar'):
    return text
```

---

### Force something to be a number?

```python
import hug

@hug.get('/echo')
def echo_text(text: hug.types.number):
    return text
```

get `http://localhost:8000/echo&text=repeat`

hug responds with an error

get `http://localhost:8000/echo&text=1`

hug says ok!

---

### POSTer child

posting is just a different decorator

```python
import hug

@hug.post('/echo')
def echo_text(text = 'Foobar'):
    return text
```

---

Other goodies:

- versioning
- directives
- cli
- local

---

### I bet you can't do versions!

oh yes I can!

```python
import hug

@hug.get('/echo', versions=1)
def echo_text(text: hug.types.number):
    return text
```

`./v1/echo`

#### or pass a list and its valid for multiple versions

---

# Directives

what if hug doesn't parse what I need?

this is a reason for directives

```python
@hug.directive()
def session(context_name='session', request=None, **kwargs):
    return request and request.context.get(context_name, None) or None

@hug.get()
def my_endpoint(session: hug.directives.session):
    session # is here automatically, not passed in at the api level
```

---

# Built in Directives

powerful path to the internals of hug but beyond scope for today

some built in directives you can use:

- Timer
- session
- user (super useful after authentication)
- CurrentAPI (use this to call same version api endpoints)

---

# Cli

```python

@hug.cli()
def echo(value):
    return {'value': value}
```

print a message about usage
`hug -f app.py -c help`

call the method from cli
`hug -f app.py -c echo hello`

---

# Local

building a library?

```python

@hug.local()
def echo(value: hug.types.number):
    return {'value': value}
```

and how to use it:

```python
from api.py import echo
echo('foo') # nice error
echo(1) # yay
```

---

# Features & Performance

- hot reloading
- single process can handle thousands of connects a second
- based on falcon
- faster than most web frameworks
- supports marshmallow serialization

---

# Live Demo

goal is an app with 3 endpoints that stores strings

- store data @ /save
- show all data @ /data
- clear data @ /clear

---

### Implementing

hug is wsgi compatible which gives you access to all the wsgi hosts

- uWSGI
- Gunicorn
- nGinx

they even provide a pre built docker container for your pleasure!

---

#Tidbits

### What does hug stand for?

Hopefully Useful Guide

the projects goal is to help devs create intuitive well written apis

###### found on on last lines of README.md

---

Where can you find more?

documentation @

http://hug.rest

---

# Q & A

survey:
http://bit.ly/hug101jim

#### only 4 questions just do it!

---

# Thanks for listening!

## now go write some apis

- jim@vogelcc.com
- @Jim on the dfw pythoneers slack channel

I consult, teach, freelance, and geek out about python, feel free to hit me up about your project/problem!

##### presentation built with mdx-deck if anyone wants to learn more

###### p.s. big thanks to marcel & jack for helping me get up here
